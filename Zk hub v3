


-- ============================================
-- ZK HUB üéØ - AIMBOT ULTRA PROFISSIONAL
-- DESIGN EXCLUSIVO - v7.5.0
-- CRIADO POR ECTORSTUFFO
-- FUN√á√ïES PROBLEM√ÅTICAS OFF POR PADR√ÉO
-- ============================================

-- Servi√ßos
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")
local CoreGui = game:GetService("CoreGui")
local Lighting = game:GetService("Lighting")
local LocalPlayer = Players.LocalPlayer
local Camera = Workspace.CurrentCamera
local Mouse = LocalPlayer:GetMouse()

-- ========== CORES ==========
local Colors = {
    Background = Color3.fromRGB(10, 10, 10),
    Surface = Color3.fromRGB(26, 26, 26),
    Primary = Color3.fromRGB(0, 102, 255),
    Text = Color3.fromRGB(255, 255, 255),
    TextDim = Color3.fromRGB(180, 180, 200),
    Success = Color3.fromRGB(0, 255, 0),
    Danger = Color3.fromRGB(255, 0, 0),
    Warning = Color3.fromRGB(255, 255, 0),
    Inactive = Color3.fromRGB(60, 60, 70),
    HealthGreen = Color3.fromRGB(0, 255, 0),
    HealthYellow = Color3.fromRGB(255, 255, 0),
    HealthRed = Color3.fromRGB(255, 0, 0),
    TeamBlue = Color3.fromRGB(0, 100, 255),
    TeamRed = Color3.fromRGB(255, 50, 50)
}

-- ========== CONFIGURA√á√ïES ==========
local Config = {
    -- Aimbot Principal
    AimbotActive = true,
    AimbotSmooth = 18,
    AimbotTarget = "HEAD",
    AimbotFOV = 150,
    MaxDistance = 300,
    RageMode = false,
    AimLock = false,
    AimOnlyInFOV = true,
    
    -- Prioridade e Sele√ß√£o
    Priority = "Center",
    AimOnlyVisible = true,
    IgnoreTeammates = true,
    
    -- Ativa√ß√£o
    ActivationMode = "Always",
    AimKey = Enum.KeyCode.E,
    AimMouseButton = Enum.UserInputType.MouseButton2,
    
    -- Previs√£o de Movimento
    PredictionEnabled = true,
    PredictionAmount = 15,
    
    -- Visual do Aimbot
    RainbowFOV = true,
    FOVColor = Color3.fromRGB(255, 0, 0),
    ShowFOV = true,
    ShowCrosshair = false,
    ShowHitbox = false,
    ShowDistance = true,
    ShowHealth = true,
    ShowStatus = true,
    ShowDirection = false,
    ShowWeapon = true,
    
    -- ESP
    ESPActive = true,
    ESPBox = true,
    ESPBoxColor = Color3.fromRGB(255, 255, 255),
    ESPName = true,
    ESPHealthBar = false,
    ESPHealthText = true,
    ESPDistance = true,
    ESPWeapon = true,
    ESPTeamColor = true,
    ESPPercent = true,
    
    -- Extras
    Notifications = true,
    FPSCounter = true,
    FPSBooster = false,
    RemoveGreenDots = true
}

-- ========== VARI√ÅVEIS ==========
local FOVCircle = nil
local UI = nil
local playerGui = LocalPlayer:WaitForChild("PlayerGui")
local ESPDrawings = {}
local HitboxDrawings = {}
local CurrentTarget = nil
local FPSValue = 60
local StatusText = nil
local DirectionArrows = {}
local FPSBoosterActive = false
local OriginalSettings = {}

-- ========== SUPORTE A DRAWING ==========
local DrawingSupported = pcall(Drawing.new, "Square")

-- ========== REMOVER PONTOS VERDES ==========
local function RemoveGreenDots()
    if not Config.RemoveGreenDots then return end
    
    pcall(function()
        for _, v in ipairs(Workspace:GetDescendants()) do
            if v:IsA("BillboardGui") then
                v.Enabled = false
                v:Destroy()
            end
            
            if v:IsA("BasePart") then
                if v.BrickColor == BrickColor.new("Lime green") or 
                   v.BrickColor == BrickColor.new("Bright green") then
                    v.Transparency = 1
                end
            end
            
            local name = v.Name:lower()
            if name:find("point") or name:find("marker") or name:find("dot") or name:find("aim") then
                if v:IsA("BasePart") then
                    v.Transparency = 1
                elseif v:IsA("Model") then
                    v:Destroy()
                end
            end
        end
    end)
end

spawn(function()
    while wait(0.5) do
        RemoveGreenDots()
    end
end)

-- ========== NOTIFICA√á√ÉO ==========
local function Notify(msg)
    if Config.Notifications then
        pcall(function()
            game:GetService("StarterGui"):SetCore("SendNotification", {
                Title = "ZK HUB üéØ",
                Text = msg,
                Duration = 1.5
            })
        end)
    end
end

-- ========== ATUALIZAR FOV ==========
local hue = 0
local function UpdateFOV()
    if not Config.ShowFOV or not Config.AimbotActive then
        if FOVCircle then FOVCircle:Destroy(); FOVCircle = nil end
        return
    end

    if not FOVCircle then
        FOVCircle = Instance.new("ScreenGui")
        FOVCircle.Name = "ZKFOV"
        FOVCircle.Parent = CoreGui
        FOVCircle.ResetOnSpawn = false
        FOVCircle.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
        FOVCircle.DisplayOrder = 999

        local circle = Instance.new("Frame")
        circle.Name = "Circle"
        circle.BackgroundTransparency = 1
        circle.BorderSizePixel = 0
        circle.Parent = FOVCircle

        local corner = Instance.new("UICorner")
        corner.CornerRadius = UDim.new(1, 0)
        corner.Parent = circle

        local stroke = Instance.new("UIStroke")
        stroke.Thickness = 2
        stroke.Transparency = 0.3
        stroke.Parent = circle
    end

    local circle = FOVCircle:FindFirstChild("Circle")
    if circle then
        if Config.RainbowFOV then
            hue = (hue + 0.005) % 1
            circle.UIStroke.Color = Color3.fromHSV(hue, 1, 1)
        else
            circle.UIStroke.Color = Config.FOVColor
        end

        local size = Config.AimbotFOV * 2
        circle.Size = UDim2.new(0, size, 0, size)
        circle.Position = UDim2.new(0.5, -Config.AimbotFOV, 0.5, -Config.AimbotFOV)
    end
end
RunService.RenderStepped:Connect(UpdateFOV)

-- ========== STATUS DO AIMBOT ==========
local function UpdateStatus()
    if Config.ShowStatus then
        if not StatusText then
            StatusText = Drawing.new("Text")
            StatusText.Visible = true
            StatusText.Size = 14
            StatusText.Center = false
            StatusText.Outline = true
            StatusText.Position = Vector2.new(10, Camera.ViewportSize.Y - 30)
        end
        
        local status = "‚ö° AIMBOT: "
        if Config.AimbotActive then
            if Config.RageMode then
                status = status .. "RAGE"
            else
                status = status .. "ATIVO"
            end
            
            if CurrentTarget then
                status = status .. " | üéØ " .. (CurrentTarget.Model.Name or "Alvo")
                
                local humanoid = CurrentTarget.Model:FindFirstChild("Humanoid")
                if humanoid and humanoid.Health > 0 then
                    if Config.ShowHealth then
                        local health = math.floor(humanoid.Health)
                        local maxHealth = math.floor(humanoid.MaxHealth)
                        local percent = math.floor((health / maxHealth) * 100)
                        status = status .. string.format(" | ‚ù§Ô∏è %d/%d (%d%%)", health, maxHealth, percent)
                    end
                end
                
                if Config.ShowDistance then
                    local dist = (Camera.CFrame.Position - CurrentTarget.Part.Position).Magnitude
                    status = status .. string.format(" | üìè %.0fm", dist)
                end
            else
                status = status .. " | üîç BUSCANDO..."
            end
        else
            status = status .. "DESATIVADO"
        end
        
        StatusText.Text = status
        
        if Config.AimbotActive and CurrentTarget then
            StatusText.Color = Colors.Success
        elseif Config.AimbotActive then
            StatusText.Color = Colors.Warning
        else
            StatusText.Color = Colors.Danger
        end
    else
        if StatusText then
            StatusText.Visible = false
            StatusText = nil
        end
    end
end

-- ========== FPS COUNTER ==========
local function UpdateFPS()
    local start = tick()
    local frameCount = 0
    
    RunService.RenderStepped:Connect(function()
        frameCount = frameCount + 1
        local elapsed = tick() - start
        if elapsed >= 0.5 then
            FPSValue = math.floor(frameCount / elapsed + 0.5)
            start = tick()
            frameCount = 0
        end
    end)
end
UpdateFPS()

-- ========== FPS BOOSTER ==========
local function ApplyFPSBooster(enable)
    if enable then
        if next(OriginalSettings) == nil then
            OriginalSettings = {
                GlobalShadows = Workspace.CurrentCamera.GlobalShadows,
                FogEnd = Lighting.FogEnd,
                DecalsEnabled = Workspace.CurrentCamera.DecalsEnabled,
                Brightness = Lighting.Brightness
            }
        end

        Workspace.CurrentCamera.GlobalShadows = false
        Lighting.FogEnd = 9e9
        Workspace.CurrentCamera.DecalsEnabled = false
        Lighting.Brightness = 2
        
        for _, v in ipairs(Lighting:GetChildren()) do
            if v:IsA("BloomEffect") or v:IsA("BlurEffect") then
                v.Enabled = false
            end
        end
        
        FPSBoosterActive = true
        Notify("FPS Booster ATIVADO")
    else
        if OriginalSettings.GlobalShadows ~= nil then
            Workspace.CurrentCamera.GlobalShadows = OriginalSettings.GlobalShadows
            Lighting.FogEnd = OriginalSettings.FogEnd
            Workspace.CurrentCamera.DecalsEnabled = OriginalSettings.DecalsEnabled
            Lighting.Brightness = OriginalSettings.Brightness
        end

        for _, v in ipairs(Lighting:GetChildren()) do
            if v:IsA("BloomEffect") or v:IsA("BlurEffect") then
                v.Enabled = true
            end
        end
        
        FPSBoosterActive = false
        Notify("FPS Booster DESATIVADO")
    end
end

-- ========== DETECTAR INIMIGOS ==========
local function IsEnemy(model)
    if not model then return false end
    if model == LocalPlayer.Character then return false end
    
    local player = Players:GetPlayerFromCharacter(model)
    if not player then return false end
    
    if not model:FindFirstChild("Humanoid") or not model:FindFirstChild("HumanoidRootPart") then return false end
    if model.Humanoid.Health <= 0 then return false end
    
    if Config.IgnoreTeammates then
        if LocalPlayer.TeamColor ~= BrickColor.new("White") and player.TeamColor ~= BrickColor.new("White") then
            if LocalPlayer.TeamColor == player.TeamColor then
                return false
            end
        end

        local myTeam = LocalPlayer.Team
        local theirTeam = player.Team
        if myTeam and theirTeam and myTeam == theirTeam then
            return false
        end
    end
    
    return true
end

local function GetEnemies()
    local enemies = {}
    for _, obj in ipairs(Workspace:GetDescendants()) do
        if obj:IsA("Model") and IsEnemy(obj) then
            table.insert(enemies, {
                Model = obj,
                Root = obj.HumanoidRootPart,
                Humanoid = obj.Humanoid
            })
        end
    end
    return enemies
end

-- ========== AIMBOT ==========
local function GetBestTarget()
    if not Config.AimbotActive then return nil end
    
    if Config.ActivationMode == "Key" then
        if not UserInputService:IsKeyDown(Config.AimKey) then
            return nil
        end
    elseif Config.ActivationMode == "MouseButton" then
        if not UserInputService:IsMouseButtonPressed(Config.AimMouseButton) then
            return nil
        end
    end

    local char = LocalPlayer.Character
    if not char then return nil end
    local root = char:FindFirstChild("HumanoidRootPart")
    if not root then return nil end

    local screenCenter = Vector2.new(Camera.ViewportSize.X / 2, Camera.ViewportSize.Y / 2)
    local bestTarget = nil
    local bestScore = 999999
    local enemies = GetEnemies()

    for _, enemy in ipairs(enemies) do
        local targetPart
        if Config.AimbotTarget == "HEAD" then
            targetPart = enemy.Model:FindFirstChild("Head") or enemy.Root
        elseif Config.AimbotTarget == "TORSO" then
            targetPart = enemy.Model:FindFirstChild("UpperTorso") or enemy.Model:FindFirstChild("Torso") or enemy.Root
        else
            targetPart = enemy.Root
        end

        if targetPart then
            local distance = (Camera.CFrame.Position - targetPart.Position).Magnitude
            if distance > Config.MaxDistance then
                continue
            end

            local screenPos, onScreen = Camera:WorldToViewportPoint(targetPart.Position)
            if onScreen then
                if Config.AimOnlyVisible then
                    local ray = Ray.new(Camera.CFrame.Position, (targetPart.Position - Camera.CFrame.Position).Unit * distance)
                    local hit = workspace:FindPartOnRay(ray, char)
                    if hit and not hit:IsDescendantOf(enemy.Model) then
                        continue
                    end
                end

                local distFromCenter = (Vector2.new(screenPos.X, screenPos.Y) - screenCenter).Magnitude
                
                if Config.AimOnlyInFOV and distFromCenter > Config.AimbotFOV then
                    continue
                end
                
                local score
                if Config.Priority == "Center" then
                    score = distFromCenter
                elseif Config.Priority == "Distance" then
                    score = distance
                elseif Config.Priority == "Health" then
                    score = enemy.Humanoid.Health
                else
                    score = distance
                end
                
                if score < bestScore then
                    bestScore = score
                    bestTarget = { 
                        Part = targetPart, 
                        Position = targetPart.Position, 
                        Model = enemy.Model
                    }
                end
            end
        end
    end
    return bestTarget
end

local function AimAtTarget(target)
    if not target then return end
    
    local cameraPos = Camera.CFrame.Position
    local targetPos = target.Position
    
    if Config.PredictionEnabled then
        local humanoid = target.Model:FindFirstChild("Humanoid")
        if humanoid and humanoid.MoveDirection.Magnitude > 0 then
            local prediction = humanoid.MoveDirection * (humanoid.WalkSpeed * (Config.PredictionAmount / 100))
            targetPos = targetPos + prediction
        end
    end
    
    if Config.RageMode or Config.AimLock then
        Camera.CFrame = CFrame.lookAt(cameraPos, targetPos)
    else
        local direction = (targetPos - cameraPos).Unit
        local smooth = Config.AimbotSmooth / 100
        local currentLook = Camera.CFrame.LookVector
        local newLook = currentLook:Lerp(direction, smooth)
        Camera.CFrame = CFrame.lookAt(cameraPos, cameraPos + newLook)
    end
end

RunService.RenderStepped:Connect(function()
    if Config.AimbotActive then
        local target = GetBestTarget()
        CurrentTarget = target
        if target then
            AimAtTarget(target)
        else
            CurrentTarget = nil
        end
    else
        CurrentTarget = nil
    end
    
    UpdateStatus()
end)

-- ========== FUN√á√ÉO PARA COR DA VIDA ==========
local function GetHealthColor(health, maxHealth)
    local percent = health / maxHealth
    if percent > 0.6 then
        return Colors.HealthGreen
    elseif percent > 0.3 then
        return Colors.HealthYellow
    else
        return Colors.HealthRed
    end
end

-- ========== ESP ==========
local function ClearESP()
    for _, drawing in pairs(ESPDrawings) do
        for _, d in pairs(drawing) do
            pcall(function() d:Remove() end)
        end
    end
    ESPDrawings = {}
    
    for _, d in pairs(HitboxDrawings) do
        pcall(function() d:Remove() end)
    end
    HitboxDrawings = {}
end

local function GetWeaponName(model)
    local tool = model:FindFirstChildOfClass("Tool")
    if tool then
        return tool.Name
    end
    return "?"
end

local function UpdateESP()
    if not Config.ESPActive or not DrawingSupported then
        ClearESP()
        return
    end

    local enemies = GetEnemies()
    local currentModels = {}
    for _, enemy in ipairs(enemies) do
        currentModels[enemy.Model] = true
    end

    for model, drawing in pairs(ESPDrawings) do
        if not currentModels[model] then
            for _, d in pairs(drawing) do
                pcall(function() d:Remove() end)
            end
            ESPDrawings[model] = nil
        end
    end

    for _, enemy in ipairs(enemies) do
        local model = enemy.Model
        local root = enemy.Root
        local humanoid = enemy.Humanoid
        local head = model:FindFirstChild("Head") or root

        local rootPos, rootVis = Camera:WorldToViewportPoint(root.Position)
        local headPos, headVis = Camera:WorldToViewportPoint(head.Position)

        if rootVis or headVis then
            local screenPos = Vector2.new(rootPos.X, rootPos.Y)
            local boxHeight = math.abs(rootPos.Y - headPos.Y) * 1.8
            local boxWidth = boxHeight * 0.6
            
            if not ESPDrawings[model] then
                ESPDrawings[model] = {}
            end

            local esp = ESPDrawings[model]
            
            -- CAIXA
            if Config.ESPBox then
                if not esp.Box then
                    local box = Drawing.new("Square")
                    box.Visible = false
                    box.Thickness = 1
                    box.Filled = false
                    esp.Box = box
                end
                
                local box = esp.Box
                box.Visible = true
                box.Position = Vector2.new(screenPos.X - boxWidth/2, screenPos.Y - boxHeight/2)
                box.Size = Vector2.new(boxWidth, boxHeight)
                
                if Config.ESPTeamColor then
                    local player = Players:GetPlayerFromCharacter(model)
                    if player and player.TeamColor ~= BrickColor.new("White") then
                        box.Color = player.TeamColor.Color
                    else
                        box.Color = Config.ESPBoxColor
                    end
                else
                    box.Color = Config.ESPBoxColor
                end
                
                if CurrentTarget and CurrentTarget.Model == model then
                    box.Thickness = 3
                    box.Color = Colors.Success
                else
                    box.Thickness = 1
                end
            else
                if esp.Box then esp.Box.Visible = false end
            end

            -- BARRA DE VIDA
            if Config.ESPHealthBar then
                if not esp.HealthBar then
                    local barBg = Drawing.new("Square")
                    barBg.Visible = false
                    barBg.Color = Color3.new(0, 0, 0)
                    barBg.Transparency = 0.5
                    barBg.Filled = true
                    barBg.Thickness = 0
                    
                    local barFill = Drawing.new("Square")
                    barFill.Visible = false
                    barFill.Filled = true
                    barFill.Thickness = 0
                    
                    esp.HealthBar = {Bg = barBg, Fill = barFill}
                end
                
                local health = humanoid.Health
                local maxHealth = humanoid.MaxHealth
                local healthPercent = health / maxHealth
                
                                local barWidth = 6
                local barHeight = boxHeight
                local barX = screenPos.X - boxWidth/2 - barWidth - 5
                local barY = screenPos.Y - boxHeight/2
                
                -- Fundo da barra (preto)
                esp.HealthBar.Bg.Visible = true
                esp.HealthBar.Bg.Position = Vector2.new(barX, barY)
                esp.HealthBar.Bg.Size = Vector2.new(barWidth, barHeight)
                
                -- Preenchimento da barra (cor din√¢mica)
                local fillHeight = barHeight * healthPercent
                local fillY = barY + (barHeight - fillHeight)
                
                esp.HealthBar.Fill.Visible = true
                esp.HealthBar.Fill.Position = Vector2.new(barX, fillY)
                esp.HealthBar.Fill.Size = Vector2.new(barWidth, fillHeight)
                esp.HealthBar.Fill.Color = GetHealthColor(health, maxHealth)
            else
                if esp.HealthBar then
                    esp.HealthBar.Bg.Visible = false
                    esp.HealthBar.Fill.Visible = false
                end
            end

            -- NOME
            if Config.ESPName then
                if not esp.Name then
                    local nameLabel = Drawing.new("Text")
                    nameLabel.Visible = false
                    nameLabel.Color = Color3.new(1, 1, 1)
                    nameLabel.Size = 16
                    nameLabel.Center = true
                    nameLabel.Outline = true
                    esp.Name = nameLabel
                end
                
                local nameLabel = esp.Name
                nameLabel.Visible = true
                nameLabel.Text = model.Name
                nameLabel.Position = Vector2.new(screenPos.X, screenPos.Y - boxHeight/2 - 16)
            else
                if esp.Name then esp.Name.Visible = false end
            end

            -- VIDA TEXTO
            if Config.ESPHealthText then
                if not esp.HealthText then
                    local healthLabel = Drawing.new("Text")
                    healthLabel.Visible = false
                    healthLabel.Size = 14
                    healthLabel.Center = true
                    healthLabel.Outline = true
                    esp.HealthText = healthLabel
                end
                
                local health = humanoid.Health
                local maxHealth = humanoid.MaxHealth
                local healthPercent = (health / maxHealth) * 100
                
                local healthLabel = esp.HealthText
                healthLabel.Visible = true
                
                if Config.ESPPercent then
                    healthLabel.Text = string.format("‚ù§Ô∏è %.0f%%", healthPercent)
                else
                    healthLabel.Text = string.format("‚ù§Ô∏è %.0f/%.0f", health, maxHealth)
                end
                
                healthLabel.Color = GetHealthColor(health, maxHealth)
                healthLabel.Position = Vector2.new(screenPos.X, screenPos.Y - boxHeight/2 - 2)
            else
                if esp.HealthText then esp.HealthText.Visible = false end
            end

            -- DIST√ÇNCIA
            if Config.ESPDistance then
                if not esp.Dist then
                    local distLabel = Drawing.new("Text")
                    distLabel.Visible = false
                    distLabel.Color = Color3.new(0.8, 0.8, 0.8)
                    distLabel.Size = 14
                    distLabel.Center = true
                    distLabel.Outline = true
                    esp.Dist = distLabel
                end
                
                local distance = (Camera.CFrame.Position - root.Position).Magnitude
                local distLabel = esp.Dist
                distLabel.Visible = true
                distLabel.Text = string.format("üìè %.0fm", distance)
                distLabel.Position = Vector2.new(screenPos.X, screenPos.Y + boxHeight/2 + 2)
            else
                if esp.Dist then esp.Dist.Visible = false end
            end
            
            -- ARMA
            if Config.ESPWeapon then
                if not esp.Weapon then
                    local weaponLabel = Drawing.new("Text")
                    weaponLabel.Visible = false
                    weaponLabel.Color = Color3.new(1, 0.8, 0)
                    weaponLabel.Size = 14
                    weaponLabel.Center = true
                    weaponLabel.Outline = true
                    esp.Weapon = weaponLabel
                end
                
                local weaponName = GetWeaponName(model)
                local weaponLabel = esp.Weapon
                weaponLabel.Visible = true
                weaponLabel.Text = "üî´ " .. weaponName
                weaponLabel.Position = Vector2.new(screenPos.X, screenPos.Y + boxHeight/2 + 18)
            else
                if esp.Weapon then esp.Weapon.Visible = false end
            end
        else
            if ESPDrawings[model] then
                for _, d in pairs(ESPDrawings[model]) do
                    if d and d.Visible ~= nil then
                        if type(d) == "table" and d.Bg and d.Fill then
                            d.Bg.Visible = false
                            d.Fill.Visible = false
                        else
                            d.Visible = false
                        end
                    end
                end
            end
        end
    end
end
-- ========== HITBOX ==========
local function UpdateHitbox()
    if not Config.ShowHitbox or not DrawingSupported then
        for _, d in pairs(HitboxDrawings) do
            pcall(function() d:Remove() end)
        end
        HitboxDrawings = {}
        return
    end

    -- Limpa hitboxes de modelos mortos
    for model, circle in pairs(HitboxDrawings) do
        local humanoid = model and model:FindFirstChild("Humanoid")
        if not humanoid or humanoid.Health <= 0 then
            pcall(function() circle:Remove() end)
            HitboxDrawings[model] = nil
        end
    end

    -- Desenha apenas no alvo atual
    if CurrentTarget and CurrentTarget.Part then
        local model = CurrentTarget.Model
        local part = CurrentTarget.Part
        local humanoid = model and model:FindFirstChild("Humanoid")
        
        if humanoid and humanoid.Health > 0 then
            local pos, vis = Camera:WorldToViewportPoint(part.Position)
            if vis then
                if not HitboxDrawings[model] then
                    local circle = Drawing.new("Circle")
                    circle.Visible = true
                    circle.Thickness = 2
                    circle.NumSides = 30
                    circle.Filled = false
                    circle.Radius = 12
                    HitboxDrawings[model] = circle
                end

                local circle = HitboxDrawings[model]
                circle.Position = Vector2.new(pos.X, pos.Y)
                
                -- Cor baseada na vida
                local healthPercent = humanoid.Health / humanoid.MaxHealth
                if healthPercent > 0.6 then
                    circle.Color = Colors.HealthGreen
                elseif healthPercent > 0.3 then
                    circle.Color = Colors.HealthYellow
                else
                    circle.Color = Colors.HealthRed
                end
                
                circle.Visible = true
            else
                if HitboxDrawings[model] then
                    HitboxDrawings[model].Visible = false
                end
            end
        else
            if HitboxDrawings[model] then
                HitboxDrawings[model].Visible = false
            end
        end
    end
end
-- ========== DIRE√á√ÉO DO ALVO ==========
local function UpdateDirection()
    if Config.ShowDirection and CurrentTarget and CurrentTarget.Part then
        local model = CurrentTarget.Model
        local humanoid = model:FindFirstChild("Humanoid")
        local root = model:FindFirstChild("HumanoidRootPart")
        
        if humanoid and root and humanoid.MoveDirection.Magnitude > 0 then
            local screenPos, onScreen = Camera:WorldToViewportPoint(root.Position)
            if onScreen then
                if not DirectionArrows[model] then
                    local arrow = Drawing.new("Triangle")
                    arrow.Visible = false
                    arrow.Color = Colors.Primary
                    arrow.Thickness = 2
                    arrow.Filled = false
                    DirectionArrows[model] = arrow
                end
                
                local dir = humanoid.MoveDirection * 3
                local arrow = DirectionArrows[model]
                arrow.Visible = true
                arrow.PointA = Vector2.new(screenPos.X + dir.X, screenPos.Y + dir.Z - 20)
                arrow.PointB = Vector2.new(screenPos.X - 5, screenPos.Y - 15)
                arrow.PointC = Vector2.new(screenPos.X + 5, screenPos.Y - 15)
            else
                if DirectionArrows[model] then
                    DirectionArrows[model].Visible = false
                end
            end
        else
            if DirectionArrows[model] then
                DirectionArrows[model].Visible = false
            end
        end
    else
        for _, arrow in pairs(DirectionArrows) do
            if arrow then
                arrow.Visible = false
            end
        end
    end
end
-- ========== LOOP PRINCIPAL ==========
RunService.RenderStepped:Connect(function()
    -- Aimbot
    if Config.AimbotActive then
        local target = GetBestTarget()
        CurrentTarget = target
        if target then
            AimAtTarget(target)
        else
            CurrentTarget = nil
        end
    else
        CurrentTarget = nil
    end
    
    -- Fun√ß√µes visuais
    UpdateFOV()
    if Config.ShowHitbox then
        UpdateHitbox()
    end
    if Config.ShowDirection then
        UpdateDirection()
    end
    UpdateStatus()
    UpdateESP()
end)
-- ========== INICIAR ==========
CreateUI()
Notify("ZK HUB v7.5 ‚Ä¢ FUN√á√ïES PROBLEM√ÅTICAS OFF")
